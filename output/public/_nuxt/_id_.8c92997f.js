import{v as y,g as C,r as g,h as w,i as L,o as a,c as r,k as t,b as c,l as b,a as e,t as p,d as k,n as $,m as F,C as B,x as N,q as P,w as T,F as S,s as V}from"./entry.52f653c0.js";import z from"./MainLayout.e4979dda.js";import"./TopNav.8686182a.js";import"./nuxt-link.f4d0fcfb.js";const E={key:0,class:"absolute flex items-center justify-center top-0 left-0 aspect-[3/4] w-full object-cover rounded-md bg-black"},M=["src"],U={class:"px-1"},j={class:"text-gray-700 text-[15px] pt-1 break-words"},R={class:"flex items-center -ml-1 text-gray-600 font-bold text-xs"},I={__name:"PostUser",props:["post"],setup(u){const{$generalStore:m}=F(),s=y(),x=C();let o=g(null),_=g(!1);w(()=>{o.value&&o.value.addEventListener("loadeddata",l=>{l.target&&setTimeout(()=>{_.value=!0},200)})}),L(()=>{o.value.pause(),o.value.currentTime=0,o.value.src=""});const f=l=>{m.setBackUrl("/profile/"+s.params.id),m.selectedPost=null,setTimeout(()=>x.push(`/post/${l.id}`),300)},d=l=>{l?o.value.play():o.value.pause()};return(l,n)=>{const i=$;return a(),r("div",{onClick:n[0]||(n[0]=v=>f(u.post)),onMouseenter:n[1]||(n[1]=v=>d(!0)),onMouseleave:n[2]||(n[2]=v=>d(!1)),class:"relative brightness-90 hover:brightness-[1.1] cursor-pointer"},[t(_)?b("",!0):(a(),r("div",E,[c(i,{class:"animate-spin ml-1",name:"mingcute:loading-line",size:"100",color:"#FFFFFF"})])),e("div",null,[e("video",{ref_key:"video",ref:o,muted:"",loop:"",class:"aspect-[3/4] object-cover rounded-md",src:u.post.video},null,8,M)]),e("div",U,[e("div",j,p(u.post.text),1),e("div",R,[c(i,{name:"gg:loadbar-sound",size:"20"}),k(" 3% "),c(i,{class:"ml-1",name:"tabler:alert-circle",size:"16"})])])],32)}}},K=I,q={key:0,class:"pt-[90px] 2xl:pl-[185px] lg:pl-[160px] lg:pr-0 pr-2 w-[calc(100%-90px)] max-w-[1800px] 2xl:mx-auto"},A={class:"flex w-[calc(100vw-230px)]"},D=["src"],H={class:"ml-5 w-full"},O={class:"text-[30px] font-bold truncate"},G={class:"text-[18px] truncate"},J=e("div",null,"Edit profile",-1),Q={key:1,class:"flex item-center rounded-md py-1.5 px-8 mt-3 text-[15px] text-white font-semibold bg-[#F02C56]"},W={class:"flex items-center pt-4"},X=e("div",{class:"mr-4"},[e("span",{class:"font-bold"},"10K"),e("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Following")],-1),Y=e("div",{class:"mr-4"},[e("span",{class:"font-bold"},"44K"),e("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Followers")],-1),Z={class:"mr-4"},ee={class:"font-bold"},te=e("span",{class:"text-gray-500 font-light text-[15px] pl-1.5"},"Likes",-1),se={class:"pt-4 mr-4 text-gray-500 font-light text-[15px] pl-1.5 max-w-[500px]"},oe={class:"w-full flex items-center pt-4 border-b"},le=e("div",{class:"w-60 text-center py-2 text-[17px] font-semibold border-b-2 border-b-black"},"Videos",-1),ne={class:"w-60 text-gray-500 text-center py-2 text-[17px] font-semibold"},ae={class:"mt-4 grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-3"},pe={__name:"[id]",setup(u){const{$userStore:m,$profileStore:s,$generalStore:x}=F(),{posts:o,allLikes:_}=B(s),f=y();let d=g(!1);return w(async()=>{try{await s.getProfile(f.params.id)}catch(l){console.log(l)}}),N(()=>o.value,()=>{setTimeout(()=>d.value=!0,300)}),(l,n)=>{const i=$,v=K;return a(),P(z,null,{default:T(()=>[t(s).name?(a(),r("div",q,[e("div",A,[e("img",{class:"max-w-[120px] rounded-full",src:t(s).image},null,8,D),e("div",H,[e("div",O,p(t(x).allLowerCaseNoCaps(t(s).name)),1),e("div",G,p(t(s).name),1),t(s).id===t(m).id?(a(),r("button",{key:0,onClick:n[0]||(n[0]=h=>t(x).isEditProfileOpen=!0),class:"flex item-center rounded-md py-1.5 px-3.5 mt-3 text-[15px] font-semibold border hover:bg-gray-100"},[c(i,{class:"mt-0.5 mr-1",name:"mdi:pencil",size:"18"}),J])):(a(),r("button",Q," Follow "))])]),e("div",W,[X,Y,e("div",Z,[e("span",ee,p(t(_)),1),te])]),e("div",se,p(t(s).bio),1),e("div",oe,[le,e("div",ne,[c(i,{name:"material-symbols:lock-open",class:"mb-0.5"}),k(" Liked ")])]),e("div",ae,[t(d)?(a(!0),r(S,{key:0},V(t(s).posts,h=>(a(),r("div",null,[c(v,{post:h},null,8,["post"])]))),256)):b("",!0)])])):b("",!0)]),_:1})}}};export{pe as default};
